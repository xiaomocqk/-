<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <script src="../vue-2.1.3.js"></script>
    <style>
        h2{
            color: lightskyblue;
            font-size: 24px;
        }
        strong {
            color: lightgreen;
            font-size: 24px;
            text-decoration: underline;
        }
    </style>
</head>

<body>
    <h2>#自定义事件</h2>
    <h4>我们知道，父组件是使用 props 传递数据给子组件，但如果子组件要把数据传递回去，应该怎样做？那就是自定义事件！</h4>
    <div id="box1">
        <h3>所有的子组件共点击了：{{ total }}次</h3>

        <!-- 子组件1 -->
        <!-- html中的子组件，通过绑定一个事件把信息传给父组件。注意：顺序不要写颠倒了 -->
        <my-tag @inner="outter"></my-tag>

        <!-- 子组件2 -->
        <!-- inner事件发生的时候，outter事件也跟着发生 -->
        <my-tag @inner="outter"></my-tag>
    </div>

    <script>

    // 父组件
    Vue.component('my-tag', {
        // 组件的事件只能是该组件内写的methods
        template: '<button @click="inner">{{ counter }}</button>',
        data:function () {
            return {counter:0}
        },
        methods:{
            inner:function(){
                this.counter ++;

                // 子传父(父组件的实例才拥有 的方法),指定传给父组件的事件是哪一个
                this.$emit('inner');
            }
        }
    });

    new Vue({
        el: '#box1',
        data:{
            total:0
        },
        methods: {
            outter:function(){
                this.total ++;
            }
        }
    })
    </script>
</body>

</html>
